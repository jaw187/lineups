<div class="row" id="lineupsContainer"></div>


<script type="text/jsx">

var loadData = function (self) {

    $.ajax({
        url: self.props.url,
        dataType: 'json',
        success: function(data) {

            self.setState({ data: data });
        },
        error: function(xhr, status, err) {

            console.error(self.props.url, status, err.toString());
        }
    });
};

var Lineup = React.createClass({
    render: function () {

        return (
            <div className="row">
                <div className="col-md-12">
                    <Gameinfo data={this.data.info} />
                </div>
            </div>
            <div className="row">
                <div className="col-md-6">
                    <Team data={this.data.away} />
                </div>
                <div className="col-md-6">
                    <Team data={this.data.home} />
                </div>
            </div>
        );
    }
});

var Lineups = React.createClass({
    render: function () {

        var lineups = this.props.data.map(function (lineup) {

            return (
                <Lineup data={lineup} />
            );
        });

        return (
            {lineups}
        );
    }
});


var LineupsContainer = React.createClass({
    getInitialState: function() {

        return { data: []};
    },
    componentDidMount: function() {

        loadData(this);
    },
    render: function () {

        return (
            <div className="col-md-12">
                <Lineups data={this.state.data} />
            </div>
        );
    }
});


React.render(
    <LineupsContainer url='/lineups' />,
    document.getElementById('lineupsContainer')
);
